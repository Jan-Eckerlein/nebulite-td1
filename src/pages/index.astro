---
import Layout from "../layouts/Layout.astro";
import EditToggle from "../cms/elements/EditToggle.svelte";

let components: {[key: string]: any} = {};
Object.entries(await Astro.glob("../components/*.astro")).forEach(([_, c]) => {
	const name: string = c.file.split("/").pop()?.split(".")[0] ?? '';
	if (!name) return;
	components[name] = c;
});

const layout = [
	{
		component: "Hero",
	},
	{
		component: "SecondHero",
		props: {
			text: "Hello World",
			image: {
				src: "https://cdn.pixabay.com/photo/2023/05/29/16/55/pie-8026562_1280.jpg",
				alt: "Image",
				sizing: "cover",
				positionX: "center",
				positionY: "top",
			},
		},
	},
	{
		component: "SecondHero",
		props: {
			text: "This is a very special Hero, believe me.",
			image: {
				src: "https://cdn.pixabay.com/photo/2023/05/31/09/57/skyscraper-8030987_1280.jpg",
				alt: "Image",
				sizing: "cover",
				positionX: "center",
				positionY: "top",
			},
		},
	},
];
---

<Layout title="Nebulite Techdemo 1">
	<EditToggle client:idle />
	{layout.map(({ component, props }) =>
		<components[component].default {...props}  />
	)}
</Layout>

<style></style>
